{{> nav}}

<div class="container">
  <br>
  <h3>My Shows:</h3>
  <br>

  {{#if message_exists}}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      {{message}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {{/if}}

  {{#if noshow_message}}
    <p class="mt-5">{{noshow_message}}</p>
  {{/if}}

  <table class="table table-striped">
    <tbody>
      {{#each shows}}
        <tr>
          <td>
            {{this.date}} <br>
            {{this.name}} <br>
            <a href="https://maps.google.com/?q={{this.address}}+{{this.city}}+{{this.state}}" target="_blank">
                    {{this.venue}} <br>
                    {{this.address}} <br>
                    {{this.city}}, {{this.state}} {{this.zip}} <br>
                  </a> Time: {{this.start}} to {{this.end}} <br> Regular Admission: {{this.regular_admission_fee}} <br> Early Admission? {{this.early_admission}} <br>
            {{#if this.early_admission}}
              Early Admission Time: {{this.early_admission_time}} <br> Early Admission Fee: {{this.early_admission_fee}} <br>
            {{/if}}
            Number Of Dealers: {{this.number_of_dealers}} <br> Number Of Tables: {{this.number_of_tables}} <br> Size Of Tables: {{this.size_of_tables}} <br> Table Rent: {{this.table_rent}} <br> CD Dealers? {{this.cd_dealers}} <br> 45 Dealers? {{this.fortyfive_dealers}}
            <br> 78 Dealers? {{this.seventyeight_dealers}} <br> Food/Drink? {{this.food_drink}} <br> Handicapped Access? {{this.handicapped_access}} <br> More Information: {{this.more_information}} <br> Posted by: {{this.posted_by}}
            <div class="mt-2">
              <a class="btn btn-primary" href="/edit-show/{{this.id}}">Edit</a><span> | </span><button type="button" class="btn btn-danger" data-toggle="modal" data-target="#confirmDelete{{this.id}}">Delete</button>
            </div>
            <!-- Modal -->
            <div class="modal fade" id="confirmDelete{{this.id}}" tabindex="-1" role="dialog" aria-labelledby="confirmDeleteModalLabel{{this.id}}" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="confirmDeleteModalLabel{{this.id}}">Confirm Delete</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    Are you sure you want to delete "{{this.name}}"?
                  </div>
                  <div class="modal-footer">
                    <form action="/delete-show" method="post">
                      <input type="hidden" name="id" value="{{this.id}}">
                      <button class="btn btn-danger" type="submit">Delete</button>
                    </form>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            {{!-- end mnodal --}}
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>
